{% extends 'base.html' %}
{% load static %}
{% load math_filters %}

{% block title %}Our Team | Sellux Plaster Ltd{% endblock %}

{% block content %}

<!-- HERO - Refined for mobile-first premium experience -->
<section class="hero-section position-relative bg-white">
    <div class="container-fluid g-0">
        <div class="row g-0 min-vh-65 min-vh-lg-50 d-flex align-items-center position-relative">

            <!-- Subtle background elements - reduced for mobile -->
            <div class="position-absolute top-0 end-0 w-25 w-lg-20 h-100 bg-light opacity-5 d-none d-lg-block"></div>
            <div class="position-absolute bottom-0 start-0 w-25 h-25 rounded-circle bg-primary opacity-5 blur-3"></div>

            <div class="container position-relative z-2 py-10 py-lg-12">
                <div class="row justify-content-center">
                    <div class="col-11 col-md-10 col-lg-8 col-xl-7 text-center">

                        <!-- Premium badge with refined spacing -->
                        <div class="mb-5 mb-md-6">
                            <span class="badge bg-primary-soft text-primary px-4 py-2 rounded-pill fw-medium letter-spacing-1 border-0">
                                PRINCIPALS & TEAM
                            </span>
                        </div>

                        <!-- Typography hierarchy optimized for mobile -->
                        <h1 class="display-4 display-lg-3 fw-light mb-4 mb-md-5 letter-spacing-1">
                            The <span class="fw-normal text-primary d-block d-lg-inline">Artisans</span> Behind<br class="d-none d-lg-block">
                            <span class="fw-light">the Craft</span>
                        </h1>

                        <!-- Enhanced readability with controlled line length -->
                        <div class="mx-auto" style="max-width: 540px;">
                            <p class="lead text-muted fs-5 fw-light lh-lg mb-0 opacity-80">
                                Master craftsmen and technical specialists dedicated to transforming spaces with precision, restraint, and architectural excellence.
                            </p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- LEADERSHIP - Refined card interactions -->
<section class="leadership-section bg-light-subtle position-relative overflow-hidden">
    <!-- Subtle pattern - visible only on larger screens -->
    <div class="position-absolute top-0 start-0 w-100 h-100 d-none d-lg-block">
        <div class="bg-pattern-grid opacity-5" style="--grid-size: 24px;"></div>
    </div>

    <div class="container position-relative z-2 py-10 py-lg-12">

        <!-- Section header with premium divider -->
        <div class="row justify-content-center mb-8 mb-lg-10">
            <div class="col-lg-9 col-xl-8 text-center">
                <div class="section-divider mb-5">
                    <div class="divider-line mx-auto bg-primary opacity-25"></div>
                </div>
                <h2 class="display-6 fw-light mb-3 letter-spacing-1">FIRM LEADERSHIP</h2>
                <p class="text-muted fw-light fs-5 mb-0 opacity-75">
                    Architectural leadership shaped by decades of specialist experience
                </p>
            </div>
        </div>

        <!-- Leadership cards with enhanced mobile spacing -->
        <div class="row justify-content-center g-4 g-lg-5">
            {% for member in firm_leadership %}
            <div class="col-12 col-md-10 col-lg-4 mb-4 mb-lg-0">

                <div class="card bg-white border-0 rounded-0 p-4 p-lg-5 h-100 text-center
                         transition-ease-out hover-elevate"
                     data-aos="fade-up"
                     data-aos-delay="{{ forloop.counter|add:"-1"|multiply:"100" }}">

                <!-- Profile image with premium frame -->
                <div class="position-relative mb-5">
                    <div class="profile-frame mx-auto rounded-circle overflow-hidden"
                         style="width: 140px; height: 140px;">
                        <div class="frame-border position-absolute top-0 start-0 w-100 h-100 rounded-circle border border-3 border-white"></div>
                        <img src="{{ member.profile_image.url }}"
                             alt="{{ member.get_full_name }}"
                             class="w-100 h-100 object-fit-cover transition-ease-out scale-on-hover">
                    </div>

                    <!-- Experience badge - refined positioning -->
                    <div class="position-absolute bottom-0 start-50 translate-middle-x bg-dark text-white rounded-pill px-3 py-1 small fw-medium letter-spacing-1">
                        {{ member.years_of_experience|default:"15+" }} years
                    </div>
                </div>

                <!-- Content with enhanced typography -->
                <div class="card-body d-flex flex-column px-0">
                    <h4 class="fs-4 fw-normal mb-2 letter-spacing-1">{{ member.get_full_name }}</h4>
                    <p class="text-primary small fw-medium mb-4 letter-spacing-1 opacity-90">{{ member.job_title }}</p>

                    <p class="text-muted fw-light lh-base mb-5 flex-grow-1 opacity-80">
                        {{ member.bio|truncatewords:24 }}
                    </p>

                    <!-- Premium button with subtle interaction -->
                    <div class="mt-auto">
                        <a href="{{ member.get_absolute_url }}"
                           class="btn btn-outline-dark btn-sm rounded-pill px-4 py-2 fw-medium letter-spacing-1
                                      border-width-1 transition-ease-out hover-transform">
                                <span class="d-flex align-items-center justify-content-center">
                                    View Profile
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="ms-2">
                                        <path d="M8 0L6.59 1.41L12.17 7H0V9H12.17L6.59 14.59L8 16L16 8L8 0Z" fill="currentColor"/>
                                    </svg>
                                </span>
                        </a>
                    </div>
                </div>

            </div>

        </div>
        {% endfor %}
    </div>

    </div>
</section>

<!-- SPECIALIST TEAM - Optimized for mobile grid -->
<section class="specialists-section bg-white position-relative">
    <div class="container py-10 py-lg-12">

        <!-- Section header -->
        <div class="row justify-content-center mb-8 mb-lg-10">
            <div class="col-lg-9 col-xl-8 text-center">
                <div class="section-divider mb-5">
                    <div class="divider-line mx-auto bg-primary opacity-25"></div>
                </div>
                <h2 class="display-6 fw-light mb-3 letter-spacing-1">SPECIALIST TEAM</h2>
                <p class="text-muted fw-light fs-5 mb-0 opacity-75">
                    Skilled professionals delivering precision on every installation
                </p>
            </div>
        </div>

        <!-- Team grid with mobile-first responsive behavior -->
        <div class="row g-3 g-md-4">
            {% for member in associates %}
            <div class="col-6 col-md-4 col-lg-3 mb-3 mb-lg-4">

                <div class="card bg-transparent border-0 p-3 text-center h-100
                         transition-ease-out hover-lift"
                     data-aos="fade-up"
                     data-aos-delay="{{ forloop.counter|add:"-1"|multiply:"50" }}">

                <!-- Compact profile image -->
                <div class="mb-4">
                    <div class="profile-image mx-auto rounded-circle overflow-hidden"
                         style="width: 96px; height: 96px;">
                        <img src="{{ member.profile_image.url }}"
                             alt="{{ member.get_full_name }}"
                             class="w-100 h-100 object-fit-cover transition-ease-out">
                    </div>
                </div>

                <!-- Content optimized for small screens -->
                <div class="card-body p-0">
                    <h6 class="fs-6 fw-normal mb-1 letter-spacing-1">{{ member.get_full_name }}</h6>
                    <p class="text-primary small fw-medium mb-3 letter-spacing-1 opacity-90">{{ member.job_title }}</p>

                    {% if member.specializations %}
                    <div class="mb-4">
                        {% for spec in member.specializations|slice:":2" %}
                        <span class="badge bg-light text-dark border border-light-subtle small fw-light rounded-pill px-2 py-1 me-1 mb-1 opacity-80">
                                {{ spec }}
                            </span>
                        {% endfor %}
                    </div>
                    {% endif %}

                    <!-- Minimalist link -->
                    <a href="{{ member.get_absolute_url }}"
                       class="btn btn-link text-dark p-0 fw-medium letter-spacing-1
                                  text-decoration-none transition-ease-out">
                            <span class="d-inline-flex align-items-center">
                                View Profile
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" class="ms-1">
                                    <path d="M7 0L5.94 1.06L10.38 5.5H0V7.5H10.38L5.94 11.94L7 13L13 7L7 0Z" fill="currentColor"/>
                                </svg>
                            </span>
                    </a>
                </div>

            </div>

        </div>
        {% endfor %}
    </div>

    </div>
</section>

<!-- VALUES - Premium dark section with refined spacing -->
<section class="values-section bg-dark text-white position-relative overflow-hidden">
    <!-- Background pattern with subtle animation -->
    <div class="position-absolute top-0 start-0 w-100 h-100">
        <div class="bg-pattern-dots opacity-10"></div>
    </div>

    <div class="container position-relative z-2 py-10 py-lg-12">
        <div class="row align-items-center g-6 g-lg-8">

            <!-- Left column - Enhanced for mobile readability -->
            <div class="col-lg-6 mb-6 mb-lg-0">
                <div class="pe-lg-4">
                    <div class="mb-5">
                        <span class="badge bg-primary-soft text-primary px-3 py-2 rounded-pill fw-medium letter-spacing-1 border-0">
                            OUR VALUES
                        </span>
                    </div>

                    <h3 class="display-5 display-lg-4 fw-light mb-4 mb-lg-5 letter-spacing-1">
                        Craftsmanship<br class="d-none d-lg-block">
                        <span class="fw-normal text-primary">Meeting</span><br>
                        Technical Excellence
                    </h3>

                    <p class="text-white-70 fw-light fs-5 lh-lg mb-6 mb-lg-7 opacity-90">
                        Luxury is never loud. It is measured through discipline, precision, and an uncompromising respect for detail.
                    </p>

                    <!-- Premium CTA with proper touch target -->
                    <a href="{% url 'contact:contact_us' %}"
                       class="btn btn-primary rounded-pill px-5 py-3 fw-medium letter-spacing-1
                              border-0 transition-ease-out hover-transform"
                       style="min-height: 56px;">
                        <span class="d-inline-flex align-items-center">
                            Meet Our Team
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" class="ms-2">
                                <path d="M9 0L7.94 1.06L12.88 6H0V8H12.88L7.94 12.94L9 14L15 8L9 0Z" fill="currentColor"/>
                            </svg>
                        </span>
                    </a>
                </div>
            </div>

            <!-- Values grid with enhanced mobile spacing -->
            <div class="col-lg-6">
                <div class="row g-3 g-md-4">
                    {% for value in values %}
                    <div class="col-md-6 mb-3 mb-md-0">
                        <div class="bg-white bg-opacity-10 rounded-1 p-4 p-md-5 h-100 backdrop-blur-sm
                                 border border-white border-opacity-10 transition-ease-out hover-opacity">
                            <h5 class="fs-5 fw-normal mb-3 letter-spacing-1">{{ value.title }}</h5>
                            <p class="text-white-70 small fw-light lh-base mb-0 opacity-80">
                                {{ value.description }}
                            </p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

        </div>
    </div>
</section>

<style>
    /* Mobile-first responsive typography */
    :root {
        --transition-base: 0.4s cubic-bezier(0.22, 1, 0.36, 1);
    }

    /* Typography refinement */
    .letter-spacing-1 { letter-spacing: 0.5px; }
    @media (min-width: 992px) {
        .letter-spacing-1 { letter-spacing: 1px; }
    }

    /* Section heights optimized for mobile */
    .min-vh-65 { min-height: 65vh; }
    @media (min-width: 992px) {
        .min-vh-65 { min-height: 50vh; }
    }

    /* Enhanced spacing system */
    .py-10 { padding-top: 6rem; padding-bottom: 6rem; }
    .py-12 { padding-top: 8rem; padding-bottom: 8rem; }
    .mb-8 { margin-bottom: 5rem; }
    .mb-10 { margin-bottom: 7rem; }

    /* Premium transitions */
    .transition-ease-out {
        transition: all var(--transition-base);
    }

    .hover-elevate:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
    }

    .hover-lift:hover {
        transform: translateY(-2px);
    }

    .hover-transform:hover {
        transform: translateX(4px);
    }

    .scale-on-hover:hover {
        transform: scale(1.05);
    }

    .hover-opacity:hover {
        opacity: 0.95;
    }

    /* Premium visual effects */
    .backdrop-blur-sm {
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
    }

    .blur-3 {
        filter: blur(3px);
    }

    /* Refined patterns */
    .bg-pattern-grid {
        background-image:
            linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
        background-size: var(--grid-size, 20px) var(--grid-size, 20px);
    }

    .bg-pattern-dots {
        background-image: radial-gradient(currentColor 1px, transparent 1px);
        background-size: 20px 20px;
    }

    /* Utility classes for premium design */
    .object-fit-cover { object-fit: cover; }
    .border-width-1 { border-width: 1px !important; }
    .bg-primary-soft { background-color: rgba(var(--primary-rgb), 0.1); }
    .text-white-70 { color: rgba(255, 255, 255, 0.7); }
    .bg-light-subtle { background-color: #fafafa; }
    .border-light-subtle { border-color: #f0f0f0 !important; }

    /* Section divider */
    .section-divider {
        width: 120px;
        height: 1px;
    }
    .divider-line {
        width: 60px;
        height: 1px;
    }

    /* Profile frame enhancement */
    .profile-frame {
        position: relative;
    }
    .frame-border {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    /* Ensure proper touch targets on mobile */
    .btn,
    .btn-link,
    a[href] {
        min-height: 44px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }

    /* Mobile optimization */
    @media (max-width: 768px) {
        .display-4 { font-size: 2.5rem; }
        .display-5 { font-size: 2rem; }
        .display-6 { font-size: 1.75rem; }
        .fs-5 { font-size: 1.125rem; }

        .profile-frame {
            width: 120px !important;
            height: 120px !important;
        }
    }

    /* Reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
        .transition-ease-out,
        .hover-elevate,
        .hover-lift,
        .hover-transform,
        .scale-on-hover {
            transition: none;
        }
    }
</style>

{% endblock %}